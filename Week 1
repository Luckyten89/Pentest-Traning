Task 1: Cài đặt song song hệ điều hành Ubuntu (20.04 LTS) để tiện lợi cho việc học tập (Không khuyến khích cài máy ảo vì chậm, không tối ưu)
Done  #thì ra là do em chưa disable boot legacy anh ạ. 
2.Task 2: Tìm hiểu về hệ điều hành Linux
2.Chức năng, ý nghĩa của các thư mục dưới thư mục gốc (/)
 Bộ nhớ trên Linux không phân chia thành các ổ đĩa (C,D,E,..) như windows mà chỉ bắt đầu bằng một thư mục gốc có tên “/” (thư mục root). Sau đó là các thư mục con trên Linux như sau:

      -Ý nghĩa: Mỗi thư mục ở trên (là một tệp, ở vị trí đầu tiên) chứa thông tin quan trọng, cần thiết để khởi động đến trình điều khiển thiết bị, tệp cấu hình, v.v. Dưới đây là mô tả ngắn gọn mục đích của mỗi thư mục:
/ bin : Tất cả các chương trình nhị phân thực thi (tệp) được yêu cầu trong quá trình khởi động, sửa chữa, các tệp cần thiết để chạy ở chế độ một người dùng và các lệnh cơ bản, quan trọng khác. , cat , du , df , tar , rpm , wc, history , v.v.
/ boot : Lưu trữ các tệp quan trọng trong quá trình khởi động , bao gồm cả Nhân Linux .
/ dev(device) : Chứa các tệp thiết bị cho tất cả các thiết bị phần cứng trên máy, ví dụ: cdrom , cpu , v.v.
/ etc(contain important file) : Chứa các tệp cấu hình của Ứng dụng, tập lệnh khởi động , tắt máy , bắt đầu , dừng cho mọi chương trình riêng lẻ.
/ home : Thư mục chính của người dùng. Mỗi khi người dùng mới được tạo, một thư mục dưới tên người dùng sẽ được tạo trong thư mục chính chứa các thư mục khác như Máy tính để bàn , Tải xuống , Tài liệu , v.v.
/ lib(library) : Thư mục Lib chứa mô-đun hạt nhân và hình ảnh thư viện chia sẻ cần thiết để khởi động hệ thống và chạy các lệnh trong hệ thống tệp gốc.
/ lost + found : Thư mục này được cài đặt trong quá trình cài đặt Linux , hữu ích để khôi phục các tệp có thể bị hỏng do tắt đột ngột .
/ media : Thư mục mount tạm thời được tạo cho các thiết bị di động viz., media / cdrom .
/ mnt : Thư mục mount(gắn kết) tạm thời để gắn hệ thống tập tin .
/ opt(option) : Tùy chọn được viết tắt là tùy chọn. Chứa phần mềm ứng dụng của bên thứ ba. Viz., Java , v.v.
/ proc(process) : Một hệ thống tệp ảo và giả chứa thông tin về quá trình đang chạy với một Process-id cụ thể hay còn gọi là pid .
/ root : Đây là thư mục chính của người dùng root và không bao giờ được nhầm lẫn với '/ '
/ run : Thư mục này là giải pháp sạch duy nhất cho vấn đề thời gian chạy sớm .
/ sbin(sys_bin) : Chứa các chương trình thực thi nhị phân, được yêu cầu bởi Quản trị viên Hệ thống , để Bảo trì . Viz., Iptables , fdisk , ifconfig , swapon, khởi động lại, v.v.
/ srv : Dịch vụ được viết tắt là ' srv '. Thư mục này chứa các tệp liên quan đến máy chủ và dịch vụ cụ thể.
/ sys : Các bản phân phối Linux hiện đại bao gồm   thư mục / sys như một  hệ thống tệp ảo , lưu trữ và cho phép sửa đổi các thiết bị được kết nối với hệ thống.
/ tmp : Thư mục Tạm thời của Hệ thống, Người dùng và người chủ có thể truy cập. Lưu trữ các tệp tạm thời cho người dùng và hệ thống , cho đến lần khởi động tiếp theo.
/ usr : Chứa các tệp nhị phân thực thi , tài liệu , mã nguồn , thư viện cho chương trình cấp hai.
     / var : Viết tắt của biến. Nội dung của tệp này được mong đợi sẽ phát triển.       Thư mục này chứa các tệp nhật ký , khóa , cuộn , thư và tạm thời .



Hệ thống tệp Linux
Hệ thống tệp Linux là gì?
Hệ thống tệp Linux nói chung là một lớp tích hợp của hệ điều hành Linux được sử dụng để xử lý việc quản lý dữ liệu của bộ lưu trữ. Nó giúp sắp xếp tệp trên ổ lưu trữ. Nó quản lý tên tệp, kích thước tệp, ngày tạo và nhiều thông tin khác về tệp.
tệp, nhưng nó có thể có nhiều hơn một hệ thống tệp.
Hệ thống tệp được thiết kế theo cách để nó có thể quản lý và cung cấp không gian cho dữ liệu lưu trữ không thay đổi. Tất cả các hệ thống tệp đều yêu cầu một không gian tên là phương pháp đặt tên và tổ chức. Không gian tên xác định quy trình đặt tên, độ dài của tên tệp hoặc một tập hợp con các ký tự có thể được sử dụng cho tên tệp. Nó cũng xác định cấu trúc logic của các tệp trên một phân đoạn bộ nhớ, chẳng hạn như việc sử dụng các thư mục để tổ chức các tệp cụ thể. Khi không gian tên được mô tả, mô tả Siêu dữ liệu phải được xác định cho tệp cụ thể đó.
Cấu trúc dữ liệu cần hỗ trợ cấu trúc thư mục phân cấp; cấu trúc này được sử dụng để mô tả không gian đĩa có sẵn và được sử dụng cho một khối cụ thể.
Cấu trúc hệ thống tệp Linux
Hệ thống tệp Linux có cấu trúc tệp phân cấp vì nó chứa thư mục gốc và các thư mục con của nó. Tất cả các thư mục khác có thể được truy cập từ thư mục gốc. Một phân vùng thường chỉ có một hệ thống ng có các chi tiết khác về tệp như kích thước tệp, ngày và giờ tạo, cập nhật và sửa đổi lần cuối.
Ngoài ra, nó lưu trữ thông tin nâng cao về phần của đĩa, chẳng hạn như phân vùng và ổ đĩa.
Dữ liệu nâng cao và cấu trúc mà nó đại diện chứa thông tin về hệ thống tệp được lưu trữ trên ổ đĩa; nó khác biệt và độc lập với siêu dữ liệu hệ thống tệp.
Hệ thống tệp Linux chứa kiến ​​trúc triển khai phần mềm hệ thống tệp gồm hai phần. Hãy xem xét hình ảnh dưới đây:

Hệ thống tệp yêu cầu một API (Giao diện lập trình ứng dụng) để truy cập các lệnh gọi hàm để tương tác với các thành phần của hệ thống tệp như tệp và thư mục. API hỗ trợ các tác vụ như tạo, xóa và sao chép tệp. Nó tạo điều kiện cho một thuật toán xác định sự sắp xếp của các tệp trên một hệ thống tệp.
Hai phần đầu tiên của hệ thống tệp nhất định được gọi là hệ thống tệp ảo Linux . Nó cung cấp một bộ lệnh duy nhất để hạt nhân và các nhà phát triển truy cập vào hệ thống tệp. Hệ thống tệp ảo này yêu cầu trình điều khiển hệ thống cụ thể cung cấp giao diện cho hệ thống tệp.
Các loại hệ thống tệp Linux
Khi chúng ta cài đặt hệ điều hành Linux, Linux cung cấp nhiều hệ thống tệp như Ext, Ext2, Ext3, Ext4, JFS, ReiserFS, XFS, btrfs và swap .

Hãy hiểu chi tiết từng hệ thống tệp này:
2.1.1. Hệ thống tệp Ext, Ext2, Ext3 và Ext4
Hệ thống tập tin Ext là viết tắt của Extended File System . Nó chủ yếu được phát triển cho MINIX OS . Hệ thống tệp Ext là phiên bản cũ hơn và không còn được sử dụng do một số hạn chế.
Ext2 là hệ thống tệp Linux đầu tiên cho phép quản lý hai terabyte dữ liệu. Ext3 được phát triển thông qua Ext2; nó là phiên bản nâng cấp của Ext2 và có khả năng tương thích ngược. Hạn chế lớn của Ext3 là không hỗ trợ máy chủ vì hệ thống tệp này không hỗ trợ khôi phục tệp và ảnh chụp nhanh đĩa.
Hệ thống tệp Ext4 là hệ thống tệp nhanh hơn trong số tất cả các hệ thống tệp Ext. Đây là một tùy chọn rất tương thích cho các đĩa SSD (ổ thể rắn) và nó là hệ thống tệp mặc định trong bản phân phối Linux.
2.1.2. Hệ thống tệp JFS
JFS là viết tắt của Journaled File System , và nó được IBM phát triển cho AIX Unix . Nó là một thay thế cho hệ thống tệp Ext. Nó cũng có thể được sử dụng thay cho Ext4, nơi cần sự ổn định với ít tài nguyên. Nó là một hệ thống tệp tiện dụng khi sức mạnh của CPU bị hạn chế.
2.1.3. Hệ thống tệp ReiserFS
ReiserFS là một giải pháp thay thế cho hệ thống tệp Ext3. Nó đã được cải thiện hiệu suất và các tính năng nâng cao. Trong thời gian trước đó, ReiserFS được sử dụng làm hệ thống tệp mặc định trong SUSE Linux, nhưng sau đó nó đã thay đổi một số chính sách nên SUSE quay trở lại Ext3. Hệ thống tệp này hỗ trợ động phần mở rộng tệp, nhưng nó có một số hạn chế về hiệu suất.
2.1.4. Hệ thống tệp XFS
Hệ thống tệp XFS được coi là JFS tốc độ cao, được phát triển để xử lý I / O song song. NASA vẫn đang sử dụng hệ thống tệp này với máy chủ lưu trữ cao (máy chủ 300+ Terabyte).
2.1.5. Hệ thống tệp Btrfs
Btrfs là viết tắt của hệ thống tệp B cây . Nó được sử dụng để chịu lỗi, sửa chữa hệ thống, quản trị vui vẻ, cấu hình lưu trữ mở rộng và hơn thế nữa. Nó không phải là một phù hợp tốt cho hệ thống sản xuất.
2.1.6. Hoán đổi hệ thống tệp
Hệ thống tệp hoán đổi được sử dụng để phân trang bộ nhớ trong hệ điều hành Linux trong chế độ ngủ đông của hệ thống. Một hệ thống không bao giờ ở trạng thái ngủ đông bắt buộc phải có không gian hoán đổi bằng với kích thước RAM của nó .






2.2 Cách kiểm tra loại file hệ thống trên Linux
Using fsck command

df command reports file system disk space usage, to include the file system type on a particular disk partition, use the -T flag as below
Using fsck command

fsck is used to check and optionally repair Linux file systems, it can also print the file system type on specified disk partitions.
The flag -N disables checking of file system for errors, it just shows what would be done (but all we need is the file system type):
Using lsblk command

lsblk displays block devices, when used with the -f option, it prints file system type on partitions as well:
Using mount command

mount command is used to mount a file system in Linux, it can also be used to mount an ISO image, mount remote Linux filesystem and so much more.
Using blkid command
blkid command is used to find or print block device properties, simply specify the disk partition as an argument like so:
Using file command
file command identifies file type, the -s flag enables reading of block or character files and -L enables following of symlinks
Using fstab file
Các tin / etc / fstab là một thông tin hệ thống tập tin tĩnh tập tin (ví dụ như điểm lắp, loại hệ thống tập tin, tùy chọn vv gắn kết)

Task 3: Tìm hiểu cách cài đặt phần mềm
 3.1 Chạy file .deb
- To install .deb file using dpkg command we will use -i parameter.
sudo dpkg -i ./google-chrome-v2021.8.3_amd64.deb
sudo apt install -f     	( inc ase u fix error)
sudo dpkg -r google-chrome-stable       (remove package installed) 
Installing .deb File Using APT Command
sudo apt install ./google-chrome-stable_current_amd64.deb
sudo apt remove google-chrome-stable
Installing .deb File Using gdebi
sudo apt install gdebi
Installing .deb File Using Software Center
Installing .deb File Using eddy
3.2  Cài qua apt-get
The apt-get utility is a powerful and free package management command line program, that is used to work with Ubuntu’s APT (Advanced Packaging Tool) library to perform installation of new software packages, removing existing software packages, upgrading of existing software packages and even used to upgrading the entire operating system.
sudo apt-get install <package_name>
 in case of u wanna install multi-package:
  sudo apt-get install <package_1> <package_2> <package_3>
 For that case, you can use the no-upgrade flag :
  		   sudo apt-get install <package_name> --no-upgrade
In case you want to upgrade a package provided it’s already installed, but don’t want to install it if it’s not
sudo apt-get install <package_name> --only-upgrade
install a specific version of an application
sudo apt-get install <package_name>=<version_number>





Task 4: Tìm hiểu lệnh trên terminal
 
4.1Xem thông tin OS
Sử dụng lệnh cat /etc/os-release hoặc cat proc/version


Một số câu lệnh kiểm tra thông tin OS khác
# arch
Hiển thị kiến trúc hệ điều hành. VD: x86_64.
# cal 2021
Hiển thị lịch năm 2021.
# cat /proc/cpuinfo
Hiển thị thông tin CPU.
# cat /proc/interrupts
Hiển thị interrupts (quãng ngắt).
# cat /proc/meminfo
Kiểm tra tình trạng sử dụng memory.
# cat /proc/swaps
Hiển thị swap.
# cat /proc/version
Hiển thị phiên bản Kernel.
# cat /proc/net/dev
Hiển thị card mạng và thống kê lưu lượng sử dụng.
# cat /proc/mounts
Hiển thị tập tin hệ thống đã gán.
# clock -w
Lưu ngày thay đổi trên BIOS.
# date
Hiển thị ngày hệ thống.
# dmidecode -q
Hiển thị thông tin phần cứng.
# hdparm -i /dev/hda
Hiển thị đặc tính của ổ cứng.
# hdparm -tT /dev/sda
Kiểm tra tốc độ ổ cứng.
# lspci -tv
Hiển thị thông tin thiết bị giao tiếp PCI Devides.
# lsusb -tv
Hiển thị thông tin thiết bị giao tiếp USB
uname -m
Hiển thị kiến trúc hệ điều hành. VD: x86_64.
# uname -r
Hiện thị phiên bản Kernel đang sử dụng.



4.2 Xem cấu hình máy

Lệnh lscpu cung cấp các thông tin về CPU và các đơn vị xử lý.
Lspci là công cụ dòng lệnh khác, lệnh này liệt kê tất cả các bus PCI và thông tin chi tiết về các thiết bị được kết nối với chúng chẳng hạn như bộ chuyển đổi VGA, card đồ họa, card mạng, các cổng USB, bộ điều khiển SATA, ... .
Lspci -V | Grep "VGA" -A 12 lọc các thông tin thiết bị cụ thể.
Lshw được sử dụng để báo cáo các thông tin chi tiết và ngắn gọn về các đơn vị phần cứng như CPU, bộ nhớ, bộ điều khiển USB, ổ đĩa, ... . Lshw trích xuất thông tin từ các file "/proc" khác nhau
Lệnh Lsscsi : Để liệt kê tất cả các thiết bị scsi / sata như ổ cứng và ổ đĩa quang
Lệnh Lsusb :Lệnh này hiển thị các bộ điều khiển USB và chi tiết về các thiết bị được kết nối với chúng.
Lệnh Inxi là một script bash lấy thông tin phần cứng từ nhiều nguồn và lệnh trên hệ thống, sau đó trả về cho người dùng báo cáo bao gồm các thông tin, cấu hình máy tính Linux.
Lệnh Df: Lệnh này cung cấp các thông tin ngắn gọn về các phân vùng khác nhau, các mount point, không gian trống được sử dụng và có sẵn trên mỗi phân vùng.
Free -m: Để kiểm tra dung lượng RAM đã sử dụng, dung lượng RAM trống và tổng dung lượng RAM trên máy tính Linux, chúng ta sử dụng lệnh  lệnh dmidecode trích xuất các thông tin phần cứng bằng cách đọc dữ liệu từ các bảng DMI
Để hiển thị các thông tin về bộ xử lý, chúng ta chạy lệnh: Sudo Dmidecode -T Processor
Để hiển thị thông tin về bộ nhớ, chúng ta chạy lệnh: Sudo Dmidecode -T Memory
Để hiển thị thông tin về BIOS, chúng ta chạy lệnh: Sudo Dmidecode -T Bios
Lệnh Hdparm: cung cấp các thông tin về các thiết bị sata như ổ đĩa cứng.
4.3 Xem thông tin về mạng
Sử dụng lệnh ifconfig 

ss : kiểm tra thông tin về socket 
ss -s : hiển thị tổng số socket
ss -l : hiển thị mọi cổng mở
ss -pl : kiểm tra tên tiến trình sử dụng socket mở
ss -t -a : hiển thị mọi socket TCP
ss -u -a : hiển thị mọi socket UDP
ping <domain address> : gửi các gói tin đến địa chỉ domain (hay ip) để tính tốc độ request (thường dùng để check xem có bị lỗi đường truyền không)
curl hay wget : tải file từ trên internet khi có link
ví dụ : curl-O file_link  hay wget file_link 
netstat : đưa ra các thống kê bao gồm socket và các bảng định tuyến (netstat -s, netstat -p)

4.4 Quản lí tiến trình

Lệnh command
Ý nghĩa
  Top
Lệnh top khá giống như Task Manager trong Windows. Nó đưa ra thông tin về tất cả tài nguyên hệ thống, các tiến trình đang chạy, tốc độ load trung bình… Lệnh top -d thiết lập khoảng thời gian làm tươi lại hệ thống
  ps -u username
Kiểm tra những tiến trình được thực hiện bởi một người dùng nhất định.
  ps -U root
Kiểm tra mọi tiến trình ngoại trừ những tiến trình hệ thống
  ps –A
Kiểm tra mọi tiến trình trong hệ thống
 ss
Kiểm tra socket đang kết nối
  ss -/
Hiển thị mọi cổng mở
 w username
Kiểm tra người dùng đăng nhập, lịch sử đăng nhập, các tiến trình user đó đang chạy
 vmstat 3
Kiểm soát hành vi hệ thống, phần cứng và thông tin hệ thống trong Linux
 ps
Hiển thị các chương trình hiện thời đang chạy
 uptime
Kiểm soát hành vi hệ thống, phần cứng và thông tin hệ thống trong Linux
 rpm
Kiểm tra, gỡ bỏ hoặc cài đặt 1 gói .rpm
 yum
Cài đặt các ứng dụng đóng gói (giống rpm
 wget
 Tải các ứng dụng từ một website về
 sh
Chạy một ứng dụng có đuôi .sh
 startx
Khởi động chế độ xwindows từ cửa sổ terminal
 yum update -y
 Update Linux (CentOS)
 stop/start/restart
 Dừng/ khởi động/khởi động lại một service hoặc ứng dụng, ví dụ: service mysql stop hoặc /etc/init.d/mysqld start


 kill
Dừng proccess (thường dùng khi process bị treo). Chỉ có super-user mới có thể dừng tất cả các tiến trình còn user khác chỉ có thể dừng proccess mà user đó tạo ra.
 kill PID or %job
Ngừng một process bằng số PID (Process Identification Number) hoặc số công việc
 pstree
Hiển thị tất cả các tiến trình dưới dạng cây
 service -status-all
Kiểm tra tất cả các service và tình trạng của nó
 whereis mysql
Hiển thị nơi các file dịch vụ được cài đặt
 service-status-all grep abc
xem tình trạng của tiến trình abc
 kill -1 PID
Force close một process ID và load lại cấu hình mặc định của process đó
 kill -9 PID
Force close một process ID


4.5 Tìm kiếm file
Có một số cách ta có thể tìm và định vị các file từ terminal trong Linux. find, locate, which và whereis là một số lệnh thường được sử dụng để thực hiện việc này:
4.5.1.find
4.5.1.1 Tìm file theo tên trong thư mục hiện tại
Ta có thể tìm file theo quyền, người dùng, nhóm, loại file, ngày tháng, dung lượng và các tiêu chí có thể có khác bằng cách sử dụng lệnh find.
          find . -name photo.png    ( find theo tên)

Nếu bạn muốn tìm một file theo tên có cả chữ hoa và chữ nhỏ, hãy chạy:
          find . -iname text.txt
4.5.1.2 Tìm file trong thư mục cụ thể
tìm các file trong một thư mục cụ thể như “/home”       
                  find /home -name filename.txt

tìm các file có phần mở rộng “.txt” trong thư mục “/home”
                  find /home -name *.txt
Để tìm các file có tên là “ted.txt” trong nhiều thư mục như “/home” và “/opt”
                    find /home /opt -name test.txt
Để tìm các file ẩn trong thư mục “/home”, 
 	      find /home -name ".*"
Để tìm một file duy nhất có tên “test.txt” và xóa nó
                     find /home -type f -name test.txt -exec rm -f {}
Để tìm tất cả các file trống trong thư mục “/opt”
                      find /opt -type f -empty
4.5.1.3 Tìm file và thư mục dựa trên dung lượng
Để tìm tất cả các file 10MB trong thư mục “/home”
     find /home -size 10M
Để tìm tất cả các file trong thư mục “/home” lớn hơn 10MB và nhỏ hơn 50MB
      find /home -size +10M -size -50M

Để tìm tất cả các file “.mp4” trong thư mục “/home” có dung lượng hơn 10MB và xóa chúng bằng một lệnh duy nhất, hãy chạy:
      find /home -type f -name *.mp4 -size +10M -exec rm {} ;
4.5.1.4 Tìm file và thư mục dựa trên ngày và giờ
Để tìm tất cả các file trong “/opt” đã được sửa đổi 20 ngày trước đó, hãy chạy:
   find /opt -mtime 20
Để tìm tất cả các file trong “/opt” được truy cập 20 ngày trước đó, hãy chạy:
  find /opt -atime 20
Để tìm tất cả các file trong “/opt” được sửa đổi trong khoảng 30 đến 50 ngày, hãy chạy:
  find /opt -mtime +30 -mtime -50
Để tìm tất cả các file trong “/opt” được thay đổi trong hai giờ qua, hãy chạy:
  find /opt -cmin -120
4.5.1.5 Tìm file với một số quyền nhất định
Lệnh find có thể được sử dụng để tìm các file có quyền cụ thể bằng cách sử dụng tùy chọn perm.
Để tìm tất cả các file có quyền là “777” trong thư mục “/home”, hãy chạy:
find /home -type f -perm 0777 -print
Để tìm tất cả các file không có quyền "777", hãy chạy:
find . -type f ! -perm 777
Để tìm tất cả các file chỉ đọc, hãy chạy:
find /home -perm /u=r

Để tìm tất cả các file thực thi, hãy chạy:
find /home -perm /a=x
Để tìm tất cả các tập hợp file Sticky Bit có quyền là “553”, hãy chạy:
find /home -perm 1553
Để tìm tất cả các tập hợp file SUID, hãy chạy:
find /home -perm /u=s
Để tìm tất cả các file có quyền là “777” và thay đổi quyền của chúng thành “700”, hãy chạy:
find /home -type f -perm 0777 -print -exec chmod 700 {} ;
4.5.1.6 Tìm thư mục bằng tên
Nếu bạn muốn tìm tất cả các thư mục có tên là “ted” trong thư mục “/home”, hãy chạy:
find /home -type d -name ted
Để lưu trữ tất cả các thư mục trống trong “/home”, hãy chạy:
find /home -type d -empty
Trên đây là một những câu lệnh find phổ biến trên Linux.
4.5.2 locate 
Lệnh này là một cách khác để tìm file theo tên. Lệnh trước tìm kiếm thư mục được chỉ định và sau đó cung cấp kết quả cho người dùng. Công cụ này thực hiện tìm kiếm dựa trên cơ sở dữ liệu có tên là mlocate.db, nằm trong /var/lib/mlocate/mlocate.db. Cơ sở dữ liệu này được cập nhật mỗi sáng bởi tiện ích cron.
Lệnh này thực thi nhanh hơn find vì tìm kiếm dựa vào cơ sở dữ liệu hiện, chịu trách nhiệm quản lý danh sách tất cả các file và thư mục trên hệ thống.
Lệnh locate theo sau là tên file hiển thị tên đường dẫn tuyệt đối nơi file đó tồn tại.
eg : locate myscript

Cách tạo file
  eg:  touch filename.txt
  > filename.txt
 cat > filemane.txt
  
4.6 Đặt lịch chạy định kỳ

1. Cron là gì?
Cron là một tiện ích cho phép thực hiện các tác vụ một cách tự động theo định kỳ, ở chế độ nền của hệ thống. Crontab (CRON TABle) là một file chứa đựng bảng biểu (schedule) của các entries được chạy.
2. Cron làm việc thế nào?
Một cron schedule đơn giản là một text file. Mỗi người dùng có một cron schedule riêng, file này thường nằm ở /var/spool/cron. Crontab files không cho phép bạn tạo hoặc chỉnh sửa trực tiếp với bất kỳ trình text editor nào, trừ phi bạn dùng lệnh crontab. Một số lệnh thường dùng:
Quote:
crontab -e: tạo hoặc chỉnh sửa file crontab
crontab -l: hiển thị file crontab
crontab -r: xóa file crontab
3. Cấu trúc của crontab
Một crontab file có 5 trường xác định thời gian, cuối cùng là lệnh sẽ được chạy định kỳ, cấu trúc như sau:
Code:
* * * * * command to be executed
– – – – –
| | | | |
| | | | +—– day of week (0 – 6) (Sunday=0)
| | | +——- month (1 – 12)
| | +——— day of month (1 – 31)
| +———– hour (0 – 23)
+————- min (0 – 59)
Nếu một cột được gán ký tự *, nó có nghĩa là tác vụ sau đó sẽ được chạy ở mọi giá trị cho cột đó.
4. Ví dụ

4.7 Phân quyền
Ownership
Mỗi file hay thư mục trên Linux đều được gán bởi 3 loại chủ sở hữu là user, group, other
User
Theo như mặc định trên Linux thì người tạo ra file hay thư mục nào đó thì sẽ trở thành chủ sở hữu của chính nó, giống như việc một người A tạo ra một vậy B thì mặc định người A sẽ là chủ sở hữu của vật B đó.
Group
Một nhóm có thể chứa nhiều người dùng cùng một lúc. Tất cả người dùng trong một nhóm sẽ có cùng quyền truy cập vào file hay thư mục đó. Giả sử có một tài liệu học tập cho một lớp học mà bạn không muốn cho lớp khác biết, chỉ muốn chia sẻ trong lớp. Thay vì bạn cấp quyền cho từng người trong lớp thì bạn có thể gom tất những người trong lớp thành một nhóm người dùng và bạn gán quyền cho một nhóm người dùng đó để chỉ có những người trong nhóm đó mới có quyền truy cập vào tài liệu.
Other
Other là bất kỳ người dùng nào không thuộc vào 2 đối tượng phía trên. Xét lại ví dụ trên, bạn không phải là thuộc nhóm lớp được truy cập vào tài liệu và bạn cũng không phải là người sở hữu tài liệu đó thì bạn được xét là other.
Bài toán đặt ra là làm sao để Linux phân biệt giữa ba loại người dùng này để người dùng A không ảnh hưởng đến một số file hay thư mục chứa thông tin hay dữ liệu của một người dùng B. Và đây chính là lúc permissions(quyền) được sử dụng để kiểm soát hình vi của người dùng.
Permissions
Mỗi một file hay thư mục trong Linux đều có 3 quyền đọc, ghi, thực thi được xác định cho 3 chủ sở hữu ở trên.
Đọc: Nếu là một file thì quyền này cho phép bạn mở file đó lên và đọc. Nếu là một thư mục thì nó cho phép bạn liệt kê danh sách file hay thư mục trong thư mục đó.
Ghi: Quyền ghi cho phép bạn sửa đổi nội dung của file. Nếu là thư mục thì nó cho phép bạn có thể thêm, xóa và đổi tên các file trong thư mục đó.
Thực thi: Với Windows bạn có thể chạy với một file có đuôi ".exe" một cách dễ dàng. Khác so với Windows, trong Linux bạn không thể chạy khi nó không được cấp quyền thực thi. Còn đối với thư mục thì bạn không thể truy cập(cd) nếu bạn không có quyền thực thi nó.
xem quyền
Để liệt kê, xem quyền và chủ sở hữu các file hay thư mục:
ls -l
 
cấu trúc của phần permissions sẽ được chia ra thành từng phần như sau: đầu tiên là file type, sau đó sẽ đến đến quyền của từng owner trong hệ thống.
   file type
      user
    group
         other
        name
d
       rwx
       r-x
          r-x
         dir1
-
       rw-
       r--
r--
          file1

Nhìn vào bảng mình đã chia ra thành từng cột khác nhau. Đầu tiền trong phần permissions sẽ cho bạn biết nó là ở dạng file hay thư mục. Trong đó:
Ký hiệu
Ý nghĩa
d
Thư mục
-
File

Sau khi phân biệt được là file hay thư mục thì đến phần xem các quyền mình có thể làm đối với mỗi file hay thư mục đó. Nó được chia ra làm 3 phần là user,group, other. Ý nghĩa của r,w,x:
Ký hiệu
Ý nghĩa
r
Đọc
w
Ghi
x
Thực thi
-
Không có quyền

Đối với user nó được sở hữu bởi hoavt và có quyền rwx với thư mục dir1 nghĩa là mình có quyền đọc, ghi, thực thi thư mục dir1 khi mình là hoavt, còn với file1 mình chỉ có quyền rw-, nghĩa là mình chỉ có quyền đọc và ghi còn thực thi mình không có quyền nên được ký hiệu bởi dấu -. Nếu bạn để ý thì các quyền được ghi theo thứ tự rwx chỉ cần nhìn qua và thấy chỗ đó có quyền hay không, nếu có nó được thay - (không có quyền) bằng quyền tương ứng ở vị trí đó.
Tương tự đối với group và other quyền cũng được sắp xếp như user.
Thay đổi quyền với chmod
chmod là viết tắt của change mode dùng để thay đổi quyền của một thư mục hay file trên Linux.
Phần quyền bằng số
chmod <permissions-number> <filename>
Permissions -number về cơ bản sẽ có 3 chữ số một số với ý nghĩa số thứ nhất là quyền của user, số thứ 2 là quyền của group, số thứ 3 là quyền của other. Ý nghĩa của từng chữ số ở đây:
Số
Ký hiệu
Ý nghĩa
0
---
Không có quyền
1
--x
Thực thi
2
-w-
Ghi
3
-wx
Thực thi + Ghi
4
r--
Đọc
5
r-x
Đọc + Thực thi
6
rw-
Đọc + Ghi
7
rwx
Đọc + Ghi + Thực thi

Giả sử bạn cần phân quyền cho một file có tên là file1 quyền rwxrw-r--. Nó có nghĩa là user có tất cả quyền đọc, ghi, thực thi. Group có quyền đọc và ghi và other thì chỉ có quyền đọc. Để làm điều này ta cần tính quyền cho từng chủ sở hữu.
user: r + w +x = 4 + 2 + 1 = 7
group: r + w = 4 + 2 = 6
other: r = 4 = 4
Vậy quyền của cả file sẽ là 764, sau đó sử dụng lệnh sau để phân quyền:
chmod 764 file1
Ngoài ra bạn cũng có thể tham khảo thêm câu lệnh
chmod u=rwx,g=rw,o=r <filename>
(u-user ; g-group; o-other; a-all).
Thay đổi owner và group
Ngoài ra bạn còn có thể thay đổi các quyền sở hữu của một file. Để thay đổi được bạn cần phải có quyền sudo.
Để thay đổi user:
sudo chown <username> <filename>
Để thay đổi group:
sudo chgrp <groupname> <filename>
Để thay đổi cả user và group:
sudo chown <username>:<groupname> <filename>



Task 5: Tìm hiểu căn bản về cách viết Bash script https://www.shellscript.sh/

Tổng quan về Bash script
 Bash là một trình thông dịch ngôn ngữ lệnh.
 Bash script lại là một tệp bản rõ chứa một loạt lệnh command.
Có 2 cách để bash script được thực thi:
Chạy từng dòng một trên cửa sổ Terminal (nó không khác với việc chạy từng câu lệnh để hoàn thành 1 tác vụ nào đó).
Viết tất cả các câu lệnh cần thiết vào một file Bash (.sh) và thực thi.
Để hiểu rõ hơn về Bash script ta sẽ đi vào eg sau:
first.sh
#!/bin/sh
# This is a comment!
echo Hello World      
Để chạy đoạn lệnh Bash script đầu tiên chúng ta cần phải tạo một file eg:first.sh
với .sh là định dạng của file bash script.
Dòng đầu tiên cho ta biết đường dẫn của file được thực thi là /bin/sh
#! (shebang): dòng thông báo cho hệ điều hành biết file script này sẽ được thực thi bởi chương trình nào.
Dòng thứ 2 có # và sentence dùng để comment.
Dòng thư 3 có echo để xuất ra thông điệp Hello World 

     eg Để thực thi và chạy đoạn bash script trên:
$ chmod 755 first.sh
$ ./first.sh
Hello ​World
Dòng đầu chmod là lệnh để set quyền : 755 như chúng ta đã tìm hiểu trong mục Phân quyền user có đầy đủ quyền read, write and execute còn group và other sẽ có quyền read and write file first.sh
Dòng 2 ./ command sẽ dẫn đến file first.sh để thực thi quyền được set.
Variable
Biến trong Bash script quy ước là $, về quy tắc đặt tên biến cũng giống như    C.
về khai báo biến khá đặc biệt var=lucky viết liền ko cách. (lucky-string|int)
trả về kết quả dùng echo $var
eg bạn muốn Read-only : readonly var
eg bạn muốn loại bỏ biến : unset var
Nhập xuất Variable
Read
Read is the command take the input and will save it into a variable.
Two commonly used options however are:
+ -p which allows you to specify a prompt  #viết content
+ -s which makes the input silent.         #che giấu input
Arithmetic
let expression - Make a variable equal to an expression.

expr expression - print out the result of the expression.
expr is similar to let except instead of saving the result to a variable it instead prints the answer.
$(( expression )) - Return the result of the expression.
        eg:   a=$(( 4 + 5 ))
     echo $a # 9
${#var} - Return the length of the variable var.
eg:  a='Hello World'
       echo ${#a} # 11
If Statement
A basic if statement
if [ <some test> ]
then
<commands>
fi

Loops
    for

    while
Test

Case 

Function
